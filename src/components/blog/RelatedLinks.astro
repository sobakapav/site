---
import { APP_BLOG } from "astrowind:config";

import { fetchPosts, getRelatedPosts } from '~/utils/blog';
import HighlightedCases from '~/components/widgets/HighlightedCases.astro';
import Promo from '~/components/blog/Promo.astro';
import type { Post } from '~/types';
import { getBlogPermalink } from '~/utils/permalinks';

export interface Props {
  post: Post;
}

const { post } = Astro.props;

---
<Fragment>
{
  post.relatedLinks ? (
    <HighlightedCases
      classes={{ container: "pt-0 lg:pt-0 md:pt-0  max-w-2xl xl:max-w-7xl mx-auto px-6 related-posts" }}
      title={post.relatedLinks?.title || "Похожие кейсы"}
      linkText="Все проекты →"
      linkUrl="https://sobakapav.ru/portfolio"
      links={post.relatedLinks?.links || []}
      collection="portfolio"
    />
  ) : null
}

<Promo post={post} />

</Fragment>
