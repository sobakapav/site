---

import { findImage } from '~/utils/images';

import Image from '~/components/common/Image.astro';
import { Markdown } from '@astropub/md';
import { Icon } from 'astro-icon/components';

import BestProjects from './BestProjects.astro';

const { person } = Astro.props;
const image = await findImage(person.image);

---

<li class="flex flex-row col-span-2 row-span-2 gap-6 bg-[--aw-color-grey2] text-white dark:bg-[--aw-color-grey9] py-8 px-6 rounded-lg">
  <div class="flex flex-col gap-4">
    <div class="w-[120px] h-[120px] grow-0 shrink-0 basis-[120px]">
      <Image
        src={image}
        class="rounded"
        layout={"constrained-both"}
        width={120}
        alt={`Собака Павлова • Выпускники • ${person.name}`}
        loading="lazy"
        decoding="async"
      />
    </div>
       
  </div>
  <div class="flex flex-col format-graduates-markdown format-graduates-markdown-dark">
    <h3 class="text-xl sm:text-3xl leading-tight mb-4 font-heading">
      {person.name}
    </h3>
    <div class="text-base mb-4 font-bold">
      <Markdown.Inline of={person.excerpt} />
    </div>
    <div>
      <Markdown.Inline of={person.context} />      
    </div>
    <div class="text-lg font-bold my-4 flex-row">
      <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="white" class="icon icon-tabler icons-tabler-filled icon-tabler-quote ml-[-8px]">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M9 5a2 2 0 0 1 2 2v6c0 3.13 -1.65 5.193 -4.757 5.97a1 1 0 1 1 -.486 -1.94c2.227 -.557 3.243 -1.827 3.243 -4.03v-1h-3a2 2 0 0 1 -1.995 -1.85l-.005 -.15v-3a2 2 0 0 1 2 -2z"/>
        <path d="M18 5a2 2 0 0 1 2 2v6c0 3.13 -1.65 5.193 -4.757 5.97a1 1 0 1 1 -.486 -1.94c2.227 -.557 3.243 -1.827 3.243 -4.03v-1h-3a2 2 0 0 1 -1.995 -1.85l-.005 -.15v-3a2 2 0 0 1 2 -2z"/>
      </svg>

      <Markdown.Inline of={person.review} />   
      <div class="flex justify-end">
      <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="white" class="icon icon-tabler icons-tabler-filled icon-tabler-quote">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M9 5a2 2 0 0 1 2 2v6c0 3.13 -1.65 5.193 -4.757 5.97a1 1 0 1 1 -.486 -1.94c2.227 -.557 3.243 -1.827 3.243 -4.03v-1h-3a2 2 0 0 1 -1.995 -1.85l-.005 -.15v-3a2 2 0 0 1 2 -2z"/>
        <path d="M18 5a2 2 0 0 1 2 2v6c0 3.13 -1.65 5.193 -4.757 5.97a1 1 0 1 1 -.486 -1.94c2.227 -.557 3.243 -1.827 3.243 -4.03v-1h-3a2 2 0 0 1 -1.995 -1.85l-.005 -.15v-3a2 2 0 0 1 2 -2z"/>
      </svg>
      </div> 

    </div>
    <div class="format-graduates-markdown text-base">
      <BestProjects person={person} />
    </div> 
  </div>
</li>
