---

import Image from '~/components/common/Image.astro';
import { Markdown } from '@astropub/md';
import { twMerge } from "tailwind-merge";

const { title, text, photo, person, position, styles={heading: ''}, photoPosition='top' } = Astro.props;

---
<Fragment>
  { title && (<h3 class={twMerge('w-full text-xl sm:text-4xl xl:text-[52px] xl:leading-[52px] font-heading', styles.heading)}>{title}</h3>)}
  <div class="flex flex-row max-w-full gap-4 mb-6">
    { photo && photoPosition == 'top' && (
      <Image src={photo} alt={person || title} width={90} height={90} class="rounded-lg mt-1"/>
    )}
    <div class="flex flex-col gap-0 format-review-markdown">
      <div class={styles.main || ''}}>
        <Markdown.Inline of={text}/>
      </div>
      <div class="flex flex-row">
        { photo && photoPosition == 'bottom' && (
          <Image src={photo} alt={person || title} width={60} height={60} class="rounded-lg mt-1 mr-2"/>
        )}
        <div class={twMerge('flex flex-col text-sm', styles.signature)}>
          <div class="mt-2">{person}</div>  
          <div>{position}</div>
        </div>
      </div> 
    </div>
  </div>
</Fragment>
