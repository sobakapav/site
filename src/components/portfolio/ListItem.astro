---

import CommonCard from '~/components/common/CommonCard.astro';

import { findImage } from '~/utils/images';

const { post } = Astro.props;
const image = (await findImage(post.thumbnail?.src)) as ImageMetadata | undefined;

---

<CommonCard 
  image={image} 
  link={post.external ? post.externalLink : post.href} 
  title={post.title}
  text={post.excerpt}
>
  <Fragment slot="supertitle">
    {post.publishYear}
  </Fragment>
  
</CommonCard>
